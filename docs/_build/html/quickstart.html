


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xml:lang="" lang="" version="-//W3C//DTD XHTML 1.1//EN" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <title>Quickstart &mdash; experiment_manager  documentation</title>
  

  

  

    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'/>
    <link rel="stylesheet" href="_static/css/pdj.css" type="text/css" />

  
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/css/pdj.css" type="text/css" />
  

  

  
    <link rel="stylesheet" href="_static/css/darker.css" type="text/css" />
  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="experiment_manager  documentation" href="index.html"/>
        <link rel="next" title="main_server" href="main_server_toctree.html"/>
        <link rel="prev" title="HTTP Based Experiment Manager" href="index.html"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="cache-control" content="public" />
    <meta name="robots" content="follow, all" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Add jQuery library -->
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

  </head>

  <body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> experiment_manager </a>
        <div role="search">
	  <form id ="rtd-search-form" class="wy-form"
		action="search.html" method="get">
	    <input type="text" name="q" placeholder="Search docs" />
	    <input type="hidden" name="check_keywords" value="yes" />
	    <input type="hidden" name="area" value="default" />
	  </form>
	</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	
          
          
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#hanashi-arduino-command-str-command-list-servers-boolean-wait-return"><cite>hanashi.arduino_command(str command,[list servers],[boolean wait_return])</cite></a></li>
<li class="toctree-l2"><a class="reference internal" href="#class-control"><cite>class control</cite></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="main_server_toctree.html">main_server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="main_server.html">main_server package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="children_toctree.html">children</a><ul>
<li class="toctree-l2"><a class="reference internal" href="children.html">children package</a></li>
</ul>
</li>
</ul>

          
        

      </div>
      &nbsp;
    </nav>
    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      <nav class="wy-nav-top" id="barra-mobile" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="#">Porão do Juca</a>
      </nav>

      <div class="wy-nav-content">
	<div class="fundo-claro">
	</div>
	<div class="fundo-escuro">
	</div>

        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
	    
	    <!-- <ul class="wy-breadcrumbs"> -->
	    <!--   <li><a href="#">Docs</a> &raquo;</li> -->

	    <!--   <li>Features</li> -->
	    <!--   <li class="wy-breadcrumbs-aside"> -->

	    <!-- 	<a href="_sources/index.txt" rel="nofollow"> View page source</a> -->

	    <!--   </li> -->
	    <!-- </ul> -->
	    <!-- <hr/> -->
	  </div>

          <div role="main" class="">

	    <div id="content" class="hfeed entry-container hentry">
  <div class="section" id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>The most basic way to send a command and other IO controls to the microcontrollers connected to the clients (here assumed to be Arduinos) is through the <cite>experiment_0.py</cite> module. This module can be duplicated and modified at will to satisfy your needs and it won’t yield any problems as long as the copy still resides on the same folder or all its necessary libraries are properly referenced on <cite>$PYTHONPATH</cite> or <cite>sys.path</cite>. The module is composed of the following most important methods and classes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>experiment_0
├── control
├── hanashi.arduino_command
├──stage_0_read
├──stage_0_set
</pre></div>
</div>
<div class="section" id="hanashi-arduino-command-str-command-list-servers-boolean-wait-return">
<h2><cite>hanashi.arduino_command(str command,[list servers],[boolean wait_return])</cite><a class="headerlink" href="#hanashi-arduino-command-str-command-list-servers-boolean-wait-return" title="Permalink to this headline">¶</a></h2>
<p>Sends an arduino command via serial.</p>
<ul class="simple">
<li><p>command(str): Command to be sent to the microcontroller.</p></li>
<li><p>servers[list]: List of urls for the destination hosts.</p></li>
<li><p>wait_return[boolean]: Whether or not to wait for a response.</p></li>
</ul>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>Sending a command <cite>set(brilho,100)</cite> to an Arduino connected to host <cite>192.168.0.1</cite> on port 2000 without waiting for a response:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">experiment_0</span> <span class="k">as</span> <span class="nn">e0</span>

<span class="n">e0</span><span class="o">.</span><span class="n">hanashi</span><span class="o">.</span><span class="n">arduino_command</span><span class="p">(</span><span class="s2">&quot;quiet_connect&quot;</span><span class="p">)</span> <span class="c1">#Only needs to run once</span>
<span class="n">e0</span><span class="o">.</span><span class="n">hanashi</span><span class="o">.</span><span class="n">arduino_command</span><span class="p">(</span><span class="s2">&quot;set(brilho,100)&quot;</span><span class="p">,[</span><span class="s2">&quot;http://192.168.0.1:2000&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>You can also specify the host’s id from the <cite>assignments</cite> table from the database. So, if host <cite>192.168.0.1:2000</cite> is registered with id 3 on the database, you can execute the same command as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">e0</span><span class="o">.</span><span class="n">hanashi</span><span class="o">.</span><span class="n">arduino_command</span><span class="p">(</span><span class="s2">&quot;set(brilho,100)&quot;</span><span class="p">,</span> <span class="n">server_ids</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Sending the command <cite>dados</cite> to all hosts and wait for a response:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">e0</span><span class="o">.</span><span class="n">hanashi</span><span class="o">.</span><span class="n">arduino_command</span><span class="p">(</span><span class="s2">&quot;dados&quot;</span><span class="p">,</span><span class="n">wait_return</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="class-control">
<h2><cite>class control</cite><a class="headerlink" href="#class-control" title="Permalink to this headline">¶</a></h2>
<p>Used to periodically increment variable <cite>brilho</cite> and make readings over time.</p>
<div class="section" id="example-reading">
<h3>Example - Reading<a class="headerlink" href="#example-reading" title="Permalink to this headline">¶</a></h3>
<p>Making a reading on reactors 2 and 3 every 30 seconds:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">experiment_0</span> <span class="k">as</span> <span class="nn">e0</span>

<span class="n">C</span> <span class="o">=</span> <span class="n">e0</span><span class="o">.</span><span class="n">control</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">reactors</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">C</span><span class="o">.</span><span class="n">time_read</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">C</span><span class="o">.</span><span class="n">start_read</span><span class="p">()</span>
</pre></div>
</div>
<p>Cancelling the process:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">.</span><span class="n">read_thread</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
</pre></div>
</div>
<p>Since <cite>control</cite> is a class, it is possible to create several objects controlling different microcontroller subsets at different time reading variations.</p>
</div>
<div class="section" id="example-brilho">
<h3>Example - Brilho<a class="headerlink" href="#example-brilho" title="Permalink to this headline">¶</a></h3>
<p>Varying the microncontroller’s variable <cite>brilho</cite> every minute for reactor 2:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">experiment_0</span> <span class="k">as</span> <span class="nn">e0</span>

<span class="n">C</span> <span class="o">=</span> <span class="n">e0</span><span class="o">.</span><span class="n">control</span><span class="p">()</span>
<span class="n">C</span><span class="o">.</span><span class="n">reactors</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">C</span><span class="o">.</span><span class="n">time_brilho</span> <span class="o">=</span> <span class="mi">60</span>
<span class="n">C</span><span class="o">.</span><span class="n">brilho</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">C</span><span class="o">.</span><span class="n">start_brilho_ladder</span><span class="p">()</span>
</pre></div>
</div>
<p>Canelling the process:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">.</span><span class="n">brilho_thread</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>


	    </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="main_server_toctree.html" class="btn btn-neutral float-right" title="main_server">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="HTTP Based Experiment Manager"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Ícaro Lorran Lopes Costa; Dr. Luiz Fernando Roncaratti; Dr. Gabriela Cunha Possa.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/jucacrispim/sphinx_pdj_theme">theme</a> provided by <a href="http://poraodojuca.net">Porão do Juca</a>.

</footer>
	</div>
	</div>
	  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
    <script type="text/javascript" src="_static/documentation_options.js">

    </script>
    <script type="text/javascript" src="_static/jquery.js">

    </script>
    <script type="text/javascript" src="_static/underscore.js">

    </script>
    <script type="text/javascript" src="_static/doctools.js">

    </script>

  

   <script type="text/javascript"
           src="_static/js/theme.js"></script>

   <script type="text/javascript"
           src="_static/js/pdj.js"></script>

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

  </body>
</html>